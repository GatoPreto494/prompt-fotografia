
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Briefing de Edição — Perguntas Obrigatórias</title>
  <style>
    :root{
      --bg:#f7f8fb;
      --card:#ffffff;
      --text:#111827;
      --muted:#6b7280;
      --border:#e5e7eb;
      --shadow: 0 8px 24px rgba(17,24,39,.08);
      --focus: 0 0 0 4px rgba(59,130,246,.18);
      --primary:#2563eb;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      background:var(--bg);
      color:var(--text);
      line-height:1.4;
    }
    header{
      position: sticky;
      top: 0;
      z-index: 10;
      background: rgba(247,248,251,.85);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .wrap{max-width: 920px; margin: 0 auto; padding: 18px 16px;}
    .title{
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
    }
    h1{font-size: 20px; margin:0;}
    .sub{margin:6px 0 0; color:var(--muted); font-size:14px}
    .pill{
      font-size:12px; color:var(--primary);
      background: rgba(37,99,235,.08);
      border:1px solid rgba(37,99,235,.18);
      padding:6px 10px; border-radius:999px; white-space:nowrap;
      height: fit-content;
    }

    main .wrap{padding-top: 22px; padding-bottom: 36px;}
    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:16px;
      box-shadow: var(--shadow);
      padding: 18px;
    }
    .grid{display:grid; gap:12px;}
    @media (min-width: 860px){
      .grid{grid-template-columns: 1fr 1fr;}
      .span2{grid-column: 1 / -1;}
    }

    details{
      border:1px solid var(--border);
      border-radius:14px;
      background:#fff;
      overflow:hidden;
    }
    details[open]{box-shadow: 0 10px 26px rgba(17,24,39,.08);}
    summary{
      list-style:none;
      cursor:pointer;
      padding: 14px 14px;
      display:flex; align-items:center; justify-content:space-between; gap:10px;
    }
    summary::-webkit-details-marker{display:none;}
    .qtitle{
      display:flex; flex-direction:column; gap:4px;
    }
    .qtitle strong{font-size:15px}
    .qtitle small{color:var(--muted); font-size:12px}
    .chev{
      width: 10px; height:10px; flex:0 0 auto;
      border-right:2px solid #9ca3af; border-bottom:2px solid #9ca3af;
      transform: rotate(-45deg);
      transition: transform .2s ease;
      margin-left: 6px;
    }
    details[open] .chev{transform: rotate(45deg);}
    .content{
      border-top:1px solid var(--border);
      padding: 14px;
      display:grid;
      gap:10px;
    }
    .hint{
      color:var(--muted);
      font-size:13px;
      margin:0;
    }
    label{font-size:13px; color:#374151; display:block; margin: 0 0 6px;}
    textarea, input[type="text"], select{
      width:100%;
      border:1px solid var(--border);
      border-radius:12px;
      padding: 10px 12px;
      font-size:14px;
      outline:none;
      background:#fff;
    }
    textarea{min-height: 96px; resize: vertical;}
    textarea:focus, input[type="text"]:focus, select:focus{box-shadow: var(--focus); border-color:#93c5fd;}
    .row{display:grid; gap:10px;}
    @media (min-width: 640px){
      .row{grid-template-columns: 1fr 1fr;}
    }
    .inline{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
    }
    .radio{
      display:flex; gap:8px; align-items:center;
      border:1px solid var(--border);
      border-radius:12px;
      padding:10px 12px;
      cursor:pointer;
      user-select:none;
      min-width: 160px;
    }
    .radio input{margin:0}
    .radio:hover{border-color:#cbd5e1}
    .radio:has(input:focus){box-shadow: var(--focus); border-color:#93c5fd;}
    .note{
      background:#f3f4f6;
      border:1px dashed #d1d5db;
      border-radius:14px;
      padding: 12px 14px;
      font-size:13px;
      color:#374151;
    }

    .actions{
      display:flex; gap:12px; flex-wrap:wrap;
      margin-top: 14px;
    }
    button{
      border:0;
      border-radius:12px;
      padding: 12px 14px;
      font-size:14px;
      cursor:pointer;
    }
    .btn-primary{
      background: var(--primary);
      color:#fff;
    }
    .btn-primary:hover{filter: brightness(0.97);}
    .btn-ghost{
      background:#fff;
      border:1px solid var(--border);
      color:#111827;
    }
    .btn-ghost:hover{background:#fafafa;}
    .toast{
      position:fixed;
      left:50%;
      bottom:18px;
      transform: translateX(-50%);
      background:#111827;
      color:#fff;
      padding:10px 12px;
      border-radius:12px;
      font-size:13px;
      opacity:0;
      pointer-events:none;
      transition: opacity .2s ease, transform .2s ease;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-4px);
    }
    .footer{
      margin-top:14px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
    }
    .required{
      color:#ef4444;
      font-weight:600;
      margin-left:6px;
      font-size:12px;
    }
  </style>
</head>
<body>
  <header>
    <div class="wrap title">
      <div>
        <h1>Briefing de Edição — Perguntas Obrigatórias</h1>
        <p class="sub">Clique em cada pergunta (com <strong>?</strong>) para ver a explicação e preencher. No final, clique em <strong>Copiar respostas</strong>.</p>
      </div>
      <div class="pill">Tema claro • Página rolável</div>
    </div>
  </header>

  <main>
    <div class="wrap">
      <div class="card">
        <div class="grid">

          <!-- Q1 -->
          <details class="span2" open>
            <summary>
              <div class="qtitle">
                <strong>1) O que exatamente você deseja alterar, adicionar ou remover na imagem?<span class="required">*</span></strong>
                <small>Toque para entender o que escrever.</small>
              </div>
              <div class="chev" aria-hidden="true"></div>
            </summary>
            <div class="content">
              <p class="hint"><strong>O que é?</strong> Descreva de forma objetiva tudo que deve mudar (fundo, objetos, cenário, limpeza, ajustes gerais). Quanto mais específico, mais “Photoshop realista” fica.</p>
              <div>
                <label for="q1">Sua resposta</label>
                <textarea id="q1" placeholder="Ex.: Trocar o fundo por um escritório moderno; remover objetos atrás; ajustar luz global para ficar mais clara."></textarea>
              </div>
            </div>
          </details>

          <!-- Q2 -->
          <details class="span2">
            <summary>
              <div class="qtitle">
                <strong>2) Alguma dessas alterações envolve o rosto?<span class="required">*</span></strong>
                <small>Toque para ver o que é permitido aqui.</small>
              </div>
              <div class="chev" aria-hidden="true"></div>
            </summary>
            <div class="content">
              <p class="hint"><strong>O que é?</strong> Aqui você confirma se o rosto entra na edição. Pelo seu prompt, o rosto não pode ser reconstruído nem “embelezado”. Se você marcar “SIM”, descreva exatamente o que seria feito (idealmente só ajustes globais de luz/cor, sem mexer em textura ou traços).</p>
              <div class="row">
                <div>
                  <label>Resposta (SIM/NÃO)</label>
                  <select id="q2_select" aria-label="Envolve o rosto?">
                    <option value="" selected>Selecione...</option>
                    <option value="NÃO">NÃO</option>
                    <option value="SIM">SIM</option>
                  </select>
                </div>
                <div>
                  <label for="q2">Se SIM, descreva exatamente</label>
                  <input id="q2" type="text" placeholder="Ex.: Somente ajuste global de luz, sem tocar na pele/traços." />
                </div>
              </div>
              <div class="note">
                Dica rápida: evite termos como “melhorar”, “embelezar”, “suavizar pele”. Prefira “ajuste global de exposição/temperatura” e deixe claro “sem mexer em textura”.
              </div>
            </div>
          </details>

          <!-- Q3 -->
          <details>
            <summary>
              <div class="qtitle">
                <strong>3) Confirma que o rosto deve permanecer exatamente igual ao original? (SIM ou NÃO)<span class="required">*</span></strong>
                <small>Toque para entender a trava principal.</small>
              </div>
              <div class="chev" aria-hidden="true"></div>
            </summary>
            <div class="content">
              <p class="hint"><strong>O que é?</strong> Essa é a confirmação obrigatória para impedir qualquer alteração de identidade facial (traços, proporções, idade, expressão, textura).</p>
              <div class="inline" role="group" aria-label="Confirmação do rosto">
                <label class="radio"><input type="radio" name="q3" value="SIM"> SIM</label>
                <label class="radio"><input type="radio" name="q3" value="NÃO"> NÃO</label>
              </div>
            </div>
          </details>

          <!-- Q4 -->
          <details>
            <summary>
              <div class="qtitle">
                <strong>4) Há mais de uma pessoa na imagem?<span class="required">*</span></strong>
                <small>Toque para ver o que confirmar.</small>
              </div>
              <div class="chev" aria-hidden="true"></div>
            </summary>
            <div class="content">
              <p class="hint"><strong>O que é?</strong> Se houver mais pessoas, você confirma que nenhum rosto pode ser alterado. Se quiser, detalhe quantas pessoas.</p>
              <div class="row">
                <div>
                  <label>Resposta (SIM/NÃO)</label>
                  <select id="q4_select" aria-label="Há mais de uma pessoa?">
                    <option value="" selected>Selecione...</option>
                    <option value="NÃO">NÃO</option>
                    <option value="SIM">SIM</option>
                  </select>
                </div>
                <div>
                  <label for="q4">Detalhe (opcional)</label>
                  <input id="q4" type="text" placeholder="Ex.: Sim, 2 pessoas. Nenhum rosto pode ser alterado." />
                </div>
              </div>
            </div>
          </details>

          <!-- Q5 -->
          <details class="span2">
            <summary>
              <div class="qtitle">
                <strong>5) Posso prosseguir apenas após sua confirmação final?<span class="required">*</span></strong>
                <small>Toque para ver como responder.</small>
              </div>
              <div class="chev" aria-hidden="true"></div>
            </summary>
            <div class="content">
              <p class="hint"><strong>O que é?</strong> Última autorização. Normalmente, basta responder “SIM, pode prosseguir”.</p>
              <div class="inline" role="group" aria-label="Autorização final">
                <label class="radio"><input type="radio" name="q5" value="SIM, pode prosseguir."> SIM, pode prosseguir</label>
                <label class="radio"><input type="radio" name="q5" value="NÃO."> NÃO</label>
              </div>
            </div>
          </details>

          <div class="span2 actions">
            <button class="btn-primary" id="copyBtn" type="button">Copiar respostas</button>
            <button class="btn-ghost" id="clearBtn" type="button">Limpar</button>
            <button class="btn-ghost" id="expandBtn" type="button">Abrir tudo</button>
            <button class="btn-ghost" id="collapseBtn" type="button">Fechar tudo</button>
          </div>

          <div class="span2">
            <label for="preview">Prévia (o que será copiado)</label>
            <textarea id="preview" readonly placeholder="Preencha as perguntas acima e clique em 'Copiar respostas'."></textarea>
            <div class="footer">Tudo funciona offline (HTML único). Copia no formato pronto para colar no chat.</div>
          </div>

        </div>
      </div>
    </div>
  </main>

  <div class="toast" id="toast" role="status" aria-live="polite">Copiado!</div>

  <script>
    const $ = (id) => document.getElementById(id);

    function getRadioValue(name){
      const el = document.querySelector(`input[name="${name}"]:checked`);
      return el ? el.value : "";
    }

    function buildText(){
      const q1 = $("q1").value.trim();
      const q2s = $("q2_select").value.trim();
      const q2 = $("q2").value.trim();
      const q3 = getRadioValue("q3");
      const q4s = $("q4_select").value.trim();
      const q4 = $("q4").value.trim();
      const q5 = getRadioValue("q5");

      const lines = [];
      lines.push("1) O que exatamente você deseja alterar, adicionar ou remover na imagem?");
      lines.push(q1 ? q1 : "(não respondido)");
      lines.push("");
      lines.push("2) Alguma dessas alterações envolve o rosto?");
      lines.push(q2s ? q2s : "(não respondido)");
      if ((q2s || "").toUpperCase() === "SIM"){
        lines.push(q2 ? `Detalhe: ${q2}` : "Detalhe: (não informado)");
      }
      lines.push("");
      lines.push("3) Confirma que o rosto deve permanecer exatamente igual ao original? (SIM ou NÃO)");
      lines.push(q3 ? q3 : "(não respondido)");
      lines.push("");
      lines.push("4) Há mais de uma pessoa na imagem?");
      lines.push(q4s ? q4s : "(não respondido)");
      if (q4) lines.push(`Detalhe: ${q4}`);
      lines.push("");
      lines.push("5) Posso prosseguir apenas após sua confirmação final?");
      lines.push(q5 ? q5 : "(não respondido)");

      return lines.join("\\n");
    }

    function updatePreview(){
      $("preview").value = buildText();
    }

    function toast(msg){
      const t = $("toast");
      t.textContent = msg;
      t.classList.add("show");
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => t.classList.remove("show"), 1400);
    }

    async function copy(){
      updatePreview();
      const text = $("preview").value;

      // validação leve (mínimo)
      const missing = [];
      if (!$("q1").value.trim()) missing.push("Q1");
      if (!$("q2_select").value.trim()) missing.push("Q2");
      if (!getRadioValue("q3")) missing.push("Q3");
      if (!$("q4_select").value.trim()) missing.push("Q4");
      if (!getRadioValue("q5")) missing.push("Q5");

      try{
        await navigator.clipboard.writeText(text);
        if (missing.length){
          toast(`Copiado! (faltando: ${missing.join(", ")})`);
        } else {
          toast("Copiado!");
        }
      }catch(e){
        // fallback
        $("preview").focus();
        $("preview").select();
        const ok = document.execCommand("copy");
        toast(ok ? "Copiado!" : "Não foi possível copiar automaticamente.");
      }
    }

    function clearAll(){
      $("q1").value = "";
      $("q2_select").value = "";
      $("q2").value = "";
      $("q4_select").value = "";
      $("q4").value = "";
      document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
      updatePreview();
      toast("Limpo!");
    }

    function setAllDetails(open){
      document.querySelectorAll("details").forEach(d => d.open = open);
    }

    // Eventos
    ["q1","q2_select","q2","q4_select","q4"].forEach(id => $(id).addEventListener("input", updatePreview));
    document.querySelectorAll('input[type="radio"]').forEach(r => r.addEventListener("change", updatePreview));

    $("copyBtn").addEventListener("click", copy);
    $("clearBtn").addEventListener("click", clearAll);
    $("expandBtn").addEventListener("click", () => setAllDetails(true));
    $("collapseBtn").addEventListener("click", () => setAllDetails(false));

    // UX: desabilita/ativa campo de detalhe da Q2
    function toggleQ2Detail(){
      const isSim = ($("q2_select").value || "").toUpperCase() === "SIM";
      $("q2").disabled = !isSim;
      $("q2").style.opacity = isSim ? "1" : ".55";
      if (!isSim) $("q2").value = "";
      updatePreview();
    }
    $("q2_select").addEventListener("change", toggleQ2Detail);
    toggleQ2Detail();
    updatePreview();
  </script>
</body>
</html>
