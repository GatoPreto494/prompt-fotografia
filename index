<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Formul√°rio de Edi√ß√£o Profissional (Rosto Preservado)</title>
  <meta name="description" content="Question√°rio r√°pido para gerar um pedido de edi√ß√£o profissional sem alterar rostos. Copie e cole no seu GPT." />
  <style>
    :root{
      --bg:#0b0f17;
      --card:#121a2a;
      --card2:#0f1626;
      --text:#e8eefc;
      --muted:#a9b5d1;
      --line:#24314e;
      --ok:#1dd1a1;
      --warn:#feca57;
      --bad:#ff6b6b;
      --btn:#4f7cff;
      --btn2:#2b48a8;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:16px;
      --radius2:12px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "Helvetica Neue", Helvetica, "Apple Color Emoji", "Segoe UI Emoji";
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:var(--font);
      background:
        radial-gradient(1200px 700px at 10% 10%, rgba(79,124,255,.22), transparent 55%),
        radial-gradient(900px 600px at 90% 20%, rgba(29,209,161,.16), transparent 50%),
        radial-gradient(800px 500px at 70% 90%, rgba(254,202,87,.12), transparent 45%),
        var(--bg);
      color:var(--text);
      line-height:1.35;
    }
    a{color:var(--text)}
    .wrap{max-width:1100px; margin:0 auto; padding:28px 16px 48px;}
    header{
      display:flex; gap:18px; align-items:flex-start; justify-content:space-between;
      padding:18px 18px 0;
    }
    .brand{
      display:flex; gap:12px; align-items:center;
    }
    .logo{
      width:42px; height:42px; border-radius:12px;
      background: linear-gradient(135deg, rgba(79,124,255,.95), rgba(29,209,161,.85));
      box-shadow: 0 12px 30px rgba(79,124,255,.22);
    }
    h1{margin:0; font-size:22px; letter-spacing:.2px;}
    .sub{margin:6px 0 0; color:var(--muted); font-size:14px; max-width:70ch;}
    .grid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap:16px;
      margin-top:14px;
    }
    @media (max-width: 980px){
      .grid{grid-template-columns:1fr}
      header{flex-direction:column}
    }
    .card{
      background:linear-gradient(180deg, rgba(18,26,42,.95), rgba(15,22,38,.92));
      border:1px solid rgba(36,49,78,.85);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
    }
    .card h2{
      margin:0 0 8px;
      font-size:16px;
    }
    .hint{color:var(--muted); font-size:13px; margin:0 0 14px;}
    .section{
      border:1px solid rgba(36,49,78,.75);
      border-radius:var(--radius2);
      padding:12px;
      margin:12px 0;
      background: rgba(10,14,24,.35);
    }
    .section-title{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      margin:0 0 8px;
      font-size:13px;
      color:var(--muted);
    }
    label{
      display:flex; gap:10px; align-items:flex-start;
      padding:10px 10px;
      border-radius:12px;
      border:1px solid transparent;
      cursor:pointer;
      user-select:none;
    }
    label:hover{
      border-color: rgba(79,124,255,.35);
      background: rgba(79,124,255,.08);
    }
    input[type="radio"], input[type="checkbox"]{
      transform: translateY(2px);
      accent-color: var(--btn);
    }
    .row{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 560px){ .row{grid-template-columns:1fr} }
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      margin-top:10px;
    }
    .field input[type="text"], .field textarea, .field input[type="url"]{
      width:100%;
      background: rgba(10,14,24,.55);
      border:1px solid rgba(36,49,78,.9);
      color:var(--text);
      border-radius:12px;
      padding:10px 12px;
      outline:none;
    }
    .field textarea{min-height:100px; resize:vertical}
    .small{font-size:12px; color:var(--muted)}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(36,49,78,.85);
      color:var(--muted);
      font-size:12px;
      background: rgba(10,14,24,.35);
    }
    .pill strong{color:var(--text); font-weight:600}
    .actions{
      display:flex; flex-wrap:wrap;
      gap:10px;
      margin-top:12px;
      align-items:center;
    }
    button{
      border:0;
      cursor:pointer;
      border-radius:14px;
      padding:12px 14px;
      font-weight:700;
      letter-spacing:.2px;
      color:white;
      background: linear-gradient(135deg, var(--btn), var(--btn2));
      box-shadow: 0 12px 30px rgba(79,124,255,.22);
    }
    button.secondary{
      background: rgba(10,14,24,.55);
      border:1px solid rgba(36,49,78,.95);
      color:var(--text);
      box-shadow:none;
    }
    button.danger{
      background: rgba(255,107,107,.18);
      border:1px solid rgba(255,107,107,.45);
      color: var(--text);
      box-shadow:none;
    }
    button:disabled{
      opacity:.55;
      cursor:not-allowed;
    }
    .status{
      display:flex;
      gap:10px;
      align-items:flex-start;
      margin-top:10px;
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(36,49,78,.85);
      background: rgba(10,14,24,.35);
      color: var(--muted);
      font-size:13px;
    }
    .status b{color:var(--text)}
    .ok{border-color: rgba(29,209,161,.55)!important}
    .warn{border-color: rgba(254,202,87,.55)!important}
    .bad{border-color: rgba(255,107,107,.55)!important}
    .out{
      width:100%;
      min-height:220px;
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size:12.5px;
      line-height:1.35;
      background: rgba(10,14,24,.55);
      border:1px solid rgba(36,49,78,.95);
      color:var(--text);
      border-radius:14px;
      padding:12px;
      outline:none;
      white-space:pre-wrap;
    }
    .footer{
      margin-top:14px;
      font-size:12px;
      color:var(--muted);
    }
    .tag{
      display:inline-block;
      margin-left:8px;
      font-size:11px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid rgba(36,49,78,.85);
      background: rgba(10,14,24,.35);
      color:var(--muted);
      vertical-align:middle;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h1>Pedido de Edi√ß√£o Profissional <span class="tag">rosto preservado</span></h1>
            <p class="sub">
              Responda clicando. No final, gere um texto pronto para copiar e colar no seu GPT.
              Isso garante integra√ß√£o realista (sombras, perspectiva e luz) <b>sem alterar rostos</b>.
            </p>
          </div>
        </div>

        <div class="pill" title="Fluxo recomendado">
          ‚úÖ <strong>1)</strong> Responder ‚Ä¢ <strong>2)</strong> Gerar texto ‚Ä¢ <strong>3)</strong> Copiar ‚Ä¢ <strong>4)</strong> Colar no chat
        </div>
      </header>

      <div class="grid">
        <!-- FORM -->
        <section class="card" style="box-shadow:none; background:transparent; border:none; padding:0;">
          <h2>Question√°rio</h2>
          <p class="hint">Escolha as op√ß√µes. Campos extras aparecem quando necess√°rio.</p>

          <div class="section" id="s1">
            <div class="section-title">
              <span><b>1)</b> O que voc√™ quer editar?</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <div class="row">
              <label><input type="checkbox" name="tipo" value="Fundo/Cen√°rio"> Trocar/ajustar <b>fundo/cen√°rio</b></label>
              <label><input type="checkbox" name="tipo" value="Objeto"> Adicionar/remover <b>objeto</b></label>
              <label><input type="checkbox" name="tipo" value="Luz/Cor/Qualidade"> Melhorar <b>luz/cor/qualidade</b></label>
              <label><input type="checkbox" name="tipo" value="Adicionar pessoa"> <b>Adicionar outra pessoa</b></label>
            </div>
            <div class="field">
              <label style="padding:0; border:none; background:transparent; cursor:default">
                <span class="small">Se quiser, detalhe aqui (opcional):</span>
              </label>
              <input id="detalheTipo" type="text" placeholder="Ex.: trocar para escrit√≥rio, adicionar notebook, melhorar contraste..." />
            </div>
          </div>

          <div class="section" id="s2">
            <div class="section-title">
              <span><b>2)</b> Fonte do item (objeto/pessoa/fundo)</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <label><input type="radio" name="fonte" value="Imagin√°rio (criar do zero)"> Imagin√°rio (criar do zero)</label>
            <label><input type="radio" name="fonte" value="Da internet (recriar visualmente)"> Da internet (recriar visualmente)</label>
            <label><input type="radio" name="fonte" value="Tenho foto de refer√™ncia (vou enviar)"> Tenho foto de refer√™ncia (vou enviar)</label>

            <div class="field" id="refLinkWrap" style="display:none;">
              <span class="small">Se for ‚Äúda internet‚Äù, cole um link de refer√™ncia (opcional):</span>
              <input id="refLink" type="url" placeholder="https://..." />
              <span class="small">Obs.: link √© s√≥ refer√™ncia visual. Se voc√™ tiver a foto do objeto/pessoa, melhor enviar junto no chat.</span>
            </div>
          </div>

          <div class="section" id="s3">
            <div class="section-title">
              <span><b>3)</b> Envolve rosto?</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <label><input type="radio" name="rosto" value="N√£o ‚Äî nenhum rosto pode ser alterado"> N√£o ‚Äî nenhum rosto pode ser alterado</label>
            <label><input type="radio" name="rosto" value="Sim ‚Äî explicar exatamente (sem mudar tra√ßos)"> Sim ‚Äî explicar exatamente (sem mudar tra√ßos)</label>

            <div class="field" id="rostoDetalheWrap" style="display:none;">
              <span class="small">Explique com precis√£o (ex.: ‚Äúapenas corrigir sombras no rosto, sem alterar tra√ßos‚Äù):</span>
              <input id="rostoDetalhe" type="text" placeholder="Descreva aqui..." />
            </div>
          </div>

          <div class="section" id="s4">
            <div class="section-title">
              <span><b>4)</b> Quantas pessoas j√° est√£o na foto?</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <div class="row">
              <label><input type="radio" name="qtd" value="1"> 1 pessoa</label>
              <label><input type="radio" name="qtd" value="2"> 2 pessoas</label>
              <label><input type="radio" name="qtd" value="3+"> 3 ou mais</label>
            </div>
          </div>

          <div class="section" id="s5">
            <div class="section-title">
              <span><b>5)</b> Se voc√™ vai adicionar outra pessoa</span>
              <span class="small">Aparece quando necess√°rio</span>
            </div>
            <div id="addPessoaWrap" style="display:none;">
              <label><input type="radio" name="pessoaRef" value="Tenho foto de refer√™ncia do rosto"> Tenho foto de refer√™ncia do rosto</label>
              <label><input type="radio" name="pessoaRef" value="N√£o tenho ‚Äî criar pessoa gen√©rica (sem semelhan√ßa com ningu√©m real)"> N√£o tenho ‚Äî criar pessoa gen√©rica (sem semelhan√ßa com ningu√©m real)</label>
              <div class="field">
                <span class="small">Se gen√©rica, descreva (idade aproximada/estilo/roupa) ‚Äî opcional:</span>
                <input id="pessoaDesc" type="text" placeholder="Ex.: homem 30‚Äì40, roupa social, apar√™ncia gen√©rica..." />
              </div>
            </div>
            <div id="addPessoaOff" class="small" style="color:var(--muted);">
              Marque ‚ÄúAdicionar outra pessoa‚Äù em (1) para liberar esta se√ß√£o.
            </div>
          </div>

          <div class="section" id="s6">
            <div class="section-title">
              <span><b>6)</b> Instru√ß√µes detalhadas da edi√ß√£o</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <div class="field">
              <textarea id="instr" placeholder="Ex.: Trocar fundo para um escrit√≥rio moderno. Adicionar notebook na mesa. Ajustar ilumina√ß√£o geral para combinar. N√£o alterar nenhum rosto."></textarea>
              <span class="small">Dica: cite o local do objeto (ex.: ‚Äúna m√£o direita‚Äù, ‚Äúem cima da mesa‚Äù, ‚Äúatr√°s da pessoa‚Äù).</span>
            </div>
          </div>

          <div class="section" id="s7">
            <div class="section-title">
              <span><b>7)</b> Confirma√ß√£o de seguran√ßa</span>
              <span class="small">Obrigat√≥rio</span>
            </div>
            <label><input type="checkbox" id="confirmo"> Confirmo que <b>nenhum rosto</b> pode ser alterado (identidade 100% preservada).</label>
            <label><input type="checkbox" id="confirmo2"> Confirmo que a integra√ß√£o deve ser <b>realista</b> (sombras, perspectiva, escala e luz coerentes).</label>
          </div>

          <div class="actions">
            <button id="btnGerar" type="button">Gerar texto para colar no GPT</button>
            <button id="btnCopiar" type="button" class="secondary" disabled>üìã Copiar</button>
            <button id="btnLimpar" type="button" class="danger">Limpar</button>
          </div>

          <div id="status" class="status warn" role="status" aria-live="polite">
            <div>‚ö†Ô∏è</div>
            <div>
              <b>Preencha as obrigat√≥rias</b> e confirme as duas caixas no final para liberar a c√≥pia.
            </div>
          </div>

          <div class="footer">
            <b>Como usar:</b> 1) Gere o texto 2) Copie 3) Cole no chat do seu GPT junto com as fotos (principal + refer√™ncias).
          </div>
        </section>

        <!-- OUTPUT -->
        <aside class="card">
          <h2>Texto pronto para colar no GPT</h2>
          <p class="hint">Depois de gerar, copie e cole na conversa com o seu GPT. Envie tamb√©m as imagens necess√°rias.</p>
          <textarea id="out" class="out" readonly placeholder="Aqui vai aparecer o texto final..."></textarea>

          <div class="status" style="margin-top:12px;">
            <div>üí°</div>
            <div>
              <b>Dica r√°pida:</b> se voc√™ tiver foto do objeto/pessoa, envie junto no chat.
              Isso aumenta muito o realismo e reduz inven√ß√µes.
            </div>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    // Helpers
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));

    const btnGerar = $("#btnGerar");
    const btnCopiar = $("#btnCopiar");
    const btnLimpar = $("#btnLimpar");
    const statusBox = $("#status");

    const out = $("#out");
    const detalheTipo = $("#detalheTipo");
    const instr = $("#instr");

    const refLinkWrap = $("#refLinkWrap");
    const refLink = $("#refLink");

    const rostoDetalheWrap = $("#rostoDetalheWrap");
    const rostoDetalhe = $("#rostoDetalhe");

    const confirmo = $("#confirmo");
    const confirmo2 = $("#confirmo2");

    const addPessoaWrap = $("#addPessoaWrap");
    const addPessoaOff = $("#addPessoaOff");
    const pessoaDesc = $("#pessoaDesc");

    function getCheckedValues(name){
      return $$(`input[name="${name}"]:checked`).map(i => i.value);
    }
    function getRadioValue(name){
      const el = $(`input[name="${name}"]:checked`);
      return el ? el.value : "";
    }

    function hasTipoAddPessoa(){
      return getCheckedValues("tipo").includes("Adicionar pessoa");
    }

    function updateConditionalUI(){
      // Fonte "internet" mostra campo link (opcional)
      const fonte = getRadioValue("fonte");
      refLinkWrap.style.display = (fonte.includes("internet")) ? "block" : "none";

      // Rosto "sim" mostra detalhe
      const rosto = getRadioValue("rosto");
      rostoDetalheWrap.style.display = (rosto.startsWith("Sim")) ? "block" : "none";

      // Se√ß√£o adicionar pessoa aparece s√≥ quando marcado
      if(hasTipoAddPessoa()){
        addPessoaWrap.style.display = "block";
        addPessoaOff.style.display = "none";
      } else {
        addPessoaWrap.style.display = "none";
        addPessoaOff.style.display = "block";
        $$('input[name="pessoaRef"]').forEach(r => r.checked = false);
        pessoaDesc.value = "";
      }

      validate();
    }

    // Validate required fields
    function validate(){
      const tipos = getCheckedValues("tipo");
      const fonte = getRadioValue("fonte");
      const rosto = getRadioValue("rosto");
      const qtd = getRadioValue("qtd");
      const rostoOk = !!rosto && (!rosto.startsWith("Sim") || (rostoDetalhe.value.trim().length >= 5));
      const addPessoaOk = !hasTipoAddPessoa() || !!getRadioValue("pessoaRef");
      const instrOk = instr.value.trim().length >= 10;

      const requiredOk = tipos.length > 0 && !!fonte && !!rosto && !!qtd && rostoOk && addPessoaOk && instrOk;
      const confirmOk = confirmo.checked && confirmo2.checked;

      btnGerar.disabled = !requiredOk;
      btnCopiar.disabled = !(requiredOk && confirmOk && out.value.trim().length > 0);

      // Status
      let cls = "warn";
      let icon = "‚ö†Ô∏è";
      let msg = "Preencha as obrigat√≥rias e confirme as duas caixas no final para liberar a c√≥pia.";

      if(requiredOk && !confirmOk){
        cls = "warn";
        icon = "üü°";
        msg = "Tudo preenchido. Agora marque as duas confirma√ß√µes de seguran√ßa para liberar o bot√£o Copiar.";
      }
      if(requiredOk && confirmOk && out.value.trim().length > 0){
        cls = "ok";
        icon = "‚úÖ";
        msg = "Pronto! Voc√™ pode copiar e colar no seu GPT (junto com as fotos).";
      }
      if(!requiredOk){
        // avisos espec√≠ficos
        const issues = [];
        if(tipos.length === 0) issues.push("Selecione o que deseja editar");
        if(!fonte) issues.push("Escolha a fonte do item");
        if(!rosto) issues.push("Informe se envolve rosto");
        if(rosto && rosto.startsWith("Sim") && rostoDetalhe.value.trim().length < 5) issues.push("Descreva o detalhe do rosto (m√≠n. 5 caracteres)");
        if(!qtd) issues.push("Informe quantas pessoas j√° est√£o na foto");
        if(hasTipoAddPessoa() && !getRadioValue("pessoaRef")) issues.push("Escolha a refer√™ncia da pessoa adicionada");
        if(!instrOk) issues.push("Escreva instru√ß√µes (m√≠n. 10 caracteres)");
        if(issues.length){
          icon = "‚ö†Ô∏è";
          msg = "Falta: " + issues.join(" ‚Ä¢ ");
        }
      }

      statusBox.classList.remove("ok","warn","bad");
      statusBox.classList.add(cls);
      statusBox.innerHTML = `<div>${icon}</div><div><b>Status:</b> ${msg}</div>`;
    }

    function buildOutput(){
      const tipos = getCheckedValues("tipo");
      const fonte = getRadioValue("fonte");
      const rosto = getRadioValue("rosto");
      const qtd = getRadioValue("qtd");
      const detalhe = detalheTipo.value.trim();
      const refUrl = refLink.value.trim();
      const rostoDet = rostoDetalhe.value.trim();
      const pessoaRef = getRadioValue("pessoaRef");
      const pessoaDet = pessoaDesc.value.trim();
      const textoInstr = instr.value.trim();

      const linhas = [];
      linhas.push("üìå PEDIDO DE EDI√á√ÉO (copiado do formul√°rio)");
      linhas.push("");
      linhas.push("üéØ OBJETIVO");
      linhas.push(`- Tipo de edi√ß√£o: ${tipos.join(", ")}${detalhe ? ` (${detalhe})` : ""}`);
      linhas.push(`- Fonte do item: ${fonte}${refUrl ? ` | Link refer√™ncia: ${refUrl}` : ""}`);
      linhas.push("");
      linhas.push("üë§ ROSTOS / IDENTIDADE");
      linhas.push(`- Envolve rosto: ${rosto}`);
      if(rosto.startsWith("Sim")) linhas.push(`- Detalhe do rosto (sem mudar tra√ßos): ${rostoDet}`);
      linhas.push(`- Pessoas na foto original: ${qtd}`);
      if(hasTipoAddPessoa()){
        linhas.push("");
        linhas.push("‚ûï ADICIONAR PESSOA");
        linhas.push(`- Refer√™ncia: ${pessoaRef}`);
        if(pessoaDet) linhas.push(`- Descri√ß√£o extra: ${pessoaDet}`);
      }
      linhas.push("");
      linhas.push("üõ†Ô∏è INSTRU√á√ïES DETALHADAS");
      linhas.push(textoInstr);
      linhas.push("");
      linhas.push("‚úÖ REGRAS OBRIGAT√ìRIAS (N√ÉO NEGOCI√ÅVEIS)");
      linhas.push("- Preservar 100% os rostos originais (identidade, tra√ßos, express√£o, idade e propor√ß√µes).");
      linhas.push("- N√£o reconstruir/reimaginar/embelezar/suavizar rostos.");
      linhas.push("- Integrar objetos/fundo/pessoas com sombras coerentes, perspectiva correta, escala proporcional e ilumina√ß√£o compat√≠vel.");
      linhas.push("- Resultado final realista, com acabamento profissional estilo Photoshop.");
      linhas.push("");
      linhas.push("CONFIRMO: nenhum rosto pode ser alterado.");

      out.value = linhas.join("\n");
      validate();
    }

    async function copyOutput(){
      const text = out.value.trim();
      if(!text) return;
      try{
        await navigator.clipboard.writeText(text);
        statusBox.classList.remove("warn","bad");
        statusBox.classList.add("ok");
        statusBox.innerHTML = `<div>‚úÖ</div><div><b>Copiado!</b> Agora cole no chat do seu GPT e envie as fotos.</div>`;
      }catch(e){
        // fallback
        out.focus();
        out.select();
        document.execCommand("copy");
        statusBox.classList.remove("warn","bad");
        statusBox.classList.add("ok");
        statusBox.innerHTML = `<div>‚úÖ</div><div><b>Copiado!</b> (modo compatibilidade). Agora cole no chat do seu GPT.</div>`;
      }
    }

    function clearAll(){
      $$('input[type="checkbox"][name="tipo"]').forEach(c => c.checked = false);
      $$('input[type="radio"]').forEach(r => r.checked = false);
      detalheTipo.value = "";
      refLink.value = "";
      rostoDetalhe.value = "";
      instr.value = "";
      confirmo.checked = false;
      confirmo2.checked = false;
      pessoaDesc.value = "";
      out.value = "";
      updateConditionalUI();
      validate();
    }

    // Event bindings
    $$('input[name="tipo"]').forEach(el => el.addEventListener("change", updateConditionalUI));
    $$('input[name="fonte"]').forEach(el => el.addEventListener("change", updateConditionalUI));
    $$('input[name="rosto"]').forEach(el => el.addEventListener("change", updateConditionalUI));
    $$('input[name="qtd"]').forEach(el => el.addEventListener("change", updateConditionalUI));
    $$('input[name="pessoaRef"]').forEach(el => el.addEventListener("change", updateConditionalUI));

    [detalheTipo, refLink, rostoDetalhe, instr, pessoaDesc].forEach(el => {
      el.addEventListener("input", validate);
    });

    confirmo.addEventListener("change", validate);
    confirmo2.addEventListener("change", validate);

    btnGerar.addEventListener("click", buildOutput);
    btnCopiar.addEventListener("click", copyOutput);
    btnLimpar.addEventListener("click", clearAll);

    // Init
    updateConditionalUI();
    validate();
  </script>
</body>
</html>
